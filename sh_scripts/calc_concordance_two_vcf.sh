perl -e '@fs=@ARGV; $read_vcf=sub{$f=shift; open(IN, $f) or die $!; my %h;  while(<IN>){if(/\#CHROM/){chomp;@t=split /\s+/,$_; @arr=@t};next if /\#/; @t=split /\s+/, $_; $id=join(" ", $1, $2) if /^(\S+)\s+(\S+)/; map{@p=split /:/, $t[$_];  $h{$id}{$arr[$_]}=$p[0] }9..$#t; }; close IN; return %h};  %ha=$read_vcf->($fs[0]); %hb=$read_vcf->($fs[1]); $n=0; map{$n++ if exists $hb{$_}; $id=$_; if(exists $hb{$id}){@sams=keys %{$ha{$id}}; foreach $s(@sams){$type=$ha{$id}{$s} . "->". $hb{$id}{$s}; $res{$type}++ }   }    }keys %ha;  $cha=scalar (keys %ha); $chb=scalar(keys %hb); map{print $_, "\t", $res{$_}, "\n" }keys %res;   ' $1 $2
