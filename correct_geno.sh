perl -ne 'if(/\#/){print $_; next} chomp; @t=split /\s+/,$_; map{unless($t[$_]=~/\.\/\./){@p=split/:/, $t[$_]; ($ref, $alt)=split /,/, $p[1]; $newg=""; if($ref>0 and $alt>0){$maf=$ref/($ref+$alt); $maf=1-$maf if $maf > 0.5; if($maf>0.25){$newg="0/1"}elsif($ref>$alt){$newg="0/0"}else{$newg="1/1"} }else{$newg=$ref>0?"0/0":"1/1" } $p[0]=$newg; $t[$_]=join(":",@p)   }}9..$#t; print join("\t", @t), "\n"' $1  
